{% extends 'core/base.html' %}
{% load static %}
{% load custom_filters %}

{% block content %}

<!--carousel-->
<main role="main">
  <div class="container">
    <section class="text-center">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
            aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
            aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
            aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{% static 'core/img/gow.jpg' %}" width="1000px">
          </div>
          <div class="carousel-item">
            <img src="{% static 'core/img/dd2.jpeg' %}" width="1000px">
          </div>
          <div class="carousel-item">
            <img src="{% static 'core/img/rdr2.jpg' %}" width="1000px">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
    </section>
  </div>
</main>

<br>
<br>
<div class="title-centro">
  <h1>Top ventas</h1>
</div>

{% if productos %}

<div class="container-fluid ">
  <div class="row d-flex justify-content-center">
    {% for producto in productos %}

    <div class="card col-sm-12 col-md-6 col-lg-3 col-xl-2 border border-1 m-2 pt-3 pb-4" style="width: 15.2rem;">
      <!--imagen producto-->
      <a href="{% url 'ficha' producto.id %}" class="link-bloque">
        <img src="/media/{{ producto.imagen }}" class="card-img-top" style="width: 100% ; height: auto;">
        <!--nombre producto-->
        <div class="card-body">
          <h5 class="card-title">
            {{ producto.nombre }}
          </h5>
        </div>




        {{ producto.html_estado|safe }} <br>
        {{ producto.html_precio|safe }} <br>
        {{ producto.html_stock }} <br>

        <div class="d-flex justify-content-between">
          <a href="{% url 'comprar_ahora' %}"  class="btn btn-success btn-sm" type="button"  style="--bs-btn-padding-x: .4rem; --bs-btn-font-size: .75rem;" >
            Comprar ahora
          </a>
          <a href="{% url 'agregar_producto_al_carrito' producto.id %}" class="btn btn-primary btn-sm" type="button" style="--bs-btn-padding-x: .4rem; --bs-btn-font-size: .75rem;" >
            Agregar al carrito
          </a>
        </div>

    </div>

    {% endfor %}
  </div>
</div>

{% else %}

<h2>No se encontraron productos</h2>

{% endif %}

{% endblock content %}